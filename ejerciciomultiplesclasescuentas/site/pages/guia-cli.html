<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía del CLI - POO Java</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <header class="lesson-header">
        <div class="container">
            <h1>💻 Guía de Uso del CLI</h1>
            <p class="progress-text">Prueba tu Implementación</p>
        </div>
    </header>

    <main class="container">
        <!-- Introducción -->
        <section class="content-section objetivos">
            <h2>📋 Sobre esta Guía</h2>
            <div class="info-box">
                <p>Esta guía te enseñará a usar la <strong>Interfaz de Línea de Comandos (CLI)</strong> para probar tu implementación de las 4 lecciones.</p>
                <p><strong>El CLI te permite:</strong></p>
                <ul>
                    <li>Crear clientes de forma interactiva</li>
                    <li>Abrir cuentas bancarias</li>
                    <li>Ver la información de las cuentas creadas</li>
                    <li>Validar que tu código funciona correctamente</li>
                </ul>
            </div>
        </section>

        <!-- Requisitos -->
        <section class="content-section teoria">
            <h2>📦 Requisitos Previos</h2>

            <div class="info-box warning">
                <h3>⚠️ Antes de ejecutar el CLI</h3>
                <p>Asegúrate de haber completado las <strong>4 lecciones</strong>:</p>
                <ol>
                    <li>✅ Lección 1: Constructor de Cuenta</li>
                    <li>✅ Lección 2: Getters y Setters de Cuenta</li>
                    <li>✅ Lección 3: ArrayList en Cliente</li>
                    <li>✅ Lección 4: Método abrirCuenta()</li>
                </ol>
            </div>

            <h3>Verificar Java y Maven</h3>

            <div class="code-block">
                <div class="code-header">
                    <span>Terminal / Consola</span>
                </div>
                <pre><code class="language-bash"># Verificar Java (debe ser 17 o superior)
java -version

# Verificar Maven
mvn -version</code></pre>
            </div>
        </section>

        <!-- Cómo Ejecutar -->
        <section class="content-section practica">
            <h2>🚀 Cómo Ejecutar el CLI</h2>

            <h3>Paso 1: Abrir Terminal</h3>
            <p>Navega hasta el directorio del proyecto:</p>

            <div class="code-block">
                <div class="code-header">
                    <span>Terminal</span>
                </div>
                <pre><code class="language-bash">cd /ruta/del/proyecto/template_cuenta_bancaria</code></pre>
            </div>

            <h3>Paso 2: Ejecutar con Maven</h3>

            <div class="code-block">
                <div class="code-header">
                    <span>Comando para ejecutar el CLI</span>
                </div>
                <pre><code class="language-bash">mvn clean compile exec:java -Dexec.mainClass="edu.eam.ingesoft.fundamentos.cuentabancaria.cli.ClienteCLI"</code></pre>
            </div>

            <div class="info-box success">
                <h3>✓ Alternativa: Desde tu IDE</h3>
                <ol>
                    <li>Abre el archivo <code>ClienteCLI.java</code></li>
                    <li>Busca el método <code>main()</code></li>
                    <li>Click derecho → "Run 'ClienteCLI.main()'"</li>
                </ol>
            </div>
        </section>

        <!-- Menú Principal -->
        <section class="content-section teoria">
            <h2>🏠 El Menú Principal</h2>

            <p>Al ejecutar el CLI, verás esta pantalla:</p>

            <div class="code-block">
                <div class="code-header">
                    <span>Pantalla del Menú</span>
                </div>
                <pre><code>═══════════════════════ MENÚ PRINCIPAL ═══════════════════════

👤 Cliente activo: [Nombre del cliente]
📋 Cédula: [Cédula]
🏦 Cuentas: [X]/6

OPCIONES DISPONIBLES:
  1. 👤 Crear nuevo cliente
  2. ➕ Abrir cuenta
  3. 📄 Ver información del cliente

  0. 🚪 Salir

════════════════════════════════════════════════════════════════
Seleccione una opción:</code></pre>
            </div>

            <div class="info-box">
                <h3>Información del Menú</h3>
                <ul>
                    <li><strong>Cliente activo:</strong> Muestra el nombre del cliente actual</li>
                    <li><strong>Cédula:</strong> Documento de identificación</li>
                    <li><strong>Cuentas: X/6:</strong> Número de cuentas actuales / máximo permitido</li>
                </ul>
            </div>
        </section>

        <!-- Opción 1: Crear Cliente -->
        <section class="content-section practica">
            <h2>👤 Opción 1: Crear Nuevo Cliente</h2>

            <div class="steps">
                <div class="step">
                    <h3>Seleccionar la opción</h3>
                    <p>En el menú principal, escribe <code>1</code> y presiona ENTER</p>
                </div>

                <div class="step">
                    <h3>Ingresar nombre</h3>
                    <div class="code-block">
                        <pre><code>Ingrese el nombre completo: Juan Pérez Gómez</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Ingresar cédula</h3>
                    <div class="code-block">
                        <pre><code>Ingrese la cédula: 1234567890</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Confirmación</h3>
                    <div class="code-block">
                        <pre><code>✓ Cliente creado exitosamente!

Nombre: Juan Pérez Gómez
Cédula: 1234567890</code></pre>
                    </div>
                </div>
            </div>

            <div class="info-box warning">
                <h3>⚠️ Validaciones</h3>
                <ul>
                    <li>El nombre NO puede estar vacío</li>
                    <li>La cédula NO puede estar vacía</li>
                </ul>
            </div>
        </section>

        <!-- Opción 2: Abrir Cuenta -->
        <section class="content-section practica">
            <h2>➕ Opción 2: Abrir Cuenta</h2>

            <div class="info-box">
                <h3>Requisitos</h3>
                <ul>
                    <li>✅ Debe haber un cliente activo (creado con opción 1)</li>
                    <li>✅ El cliente debe tener menos de 6 cuentas</li>
                </ul>
            </div>

            <div class="steps">
                <div class="step">
                    <h3>Seleccionar la opción</h3>
                    <p>En el menú principal, escribe <code>2</code> y presiona ENTER</p>
                    <div class="code-block">
                        <pre><code>Cuentas actuales: 2/6</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Ingresar número de cuenta</h3>
                    <div class="code-block">
                        <pre><code>Ingrese el número de cuenta: 001</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Seleccionar tipo</h3>
                    <div class="code-block">
                        <pre><code>Tipo de cuenta:
  1. AHORROS
  2. CORRIENTE
Seleccione (1-2): 1</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Confirmación</h3>
                    <div class="code-block">
                        <pre><code>✓ Cuenta abierta exitosamente!

Número: 001
Tipo: AHORROS
Total de cuentas: 3/6</code></pre>
                    </div>
                </div>
            </div>

            <div class="info-box danger">
                <h3>Límite de Cuentas</h3>
                <p>Si intentas abrir la <strong>7ma cuenta</strong>, verás:</p>
                <div class="code-block">
                    <pre><code>✗ ERROR: No se pudo abrir la cuenta.
Límite de cuentas alcanzado (máximo 6).</code></pre>
                </div>
                <p>Esto es correcto y demuestra que tu validación en <code>abrirCuenta()</code> funciona.</p>
            </div>
        </section>

        <!-- Opción 3: Ver Información -->
        <section class="content-section practica">
            <h2>📄 Opción 3: Ver Información del Cliente</h2>

            <p>Esta opción muestra todos los datos del cliente y sus cuentas.</p>

            <div class="steps">
                <div class="step">
                    <h3>Seleccionar la opción</h3>
                    <p>En el menú principal, escribe <code>3</code> y presiona ENTER</p>
                </div>

                <div class="step">
                    <h3>Ver la información</h3>
                    <div class="code-block">
                        <pre><code>════════════════ INFORMACIÓN DEL CLIENTE ════════════════

Nombre: Juan Pérez Gómez
Cédula: 1234567890

Total de cuentas: 3/6

─────────────────────────────────────────────────────────
NÚMERO          TIPO              SALDO         TRANS.
─────────────────────────────────────────────────────────
001             AHORROS           $0.00         0
002             CORRIENTE         $0.00         0
003             AHORROS           $0.00         0
─────────────────────────────────────────────────────────</code></pre>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <h3>Interpretación</h3>
                <ul>
                    <li><strong>NÚMERO:</strong> El número de cuenta que ingresaste</li>
                    <li><strong>TIPO:</strong> AHORROS o CORRIENTE</li>
                    <li><strong>SALDO:</strong> Siempre $0.00 (las cuentas inician vacías)</li>
                    <li><strong>TRANS.:</strong> Transacciones del mes (siempre 0 en este ejercicio)</li>
                </ul>
            </div>
        </section>

        <!-- Caso de Uso Completo -->
        <section class="content-section ejercicio">
            <h2>🎯 Caso de Uso Completo</h2>

            <div class="info-box success">
                <h3>Flujo Recomendado para Probar tu Código</h3>
            </div>

            <div class="steps">
                <div class="step">
                    <h4>1. Ejecutar el CLI</h4>
                    <div class="code-block">
                        <pre><code>mvn clean compile exec:java -Dexec.mainClass="..."</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h4>2. Crear un cliente</h4>
                    <p>Opción: <code>1</code></p>
                    <p>Nombre: <code>Ana María López</code></p>
                    <p>Cédula: <code>9876543210</code></p>
                </div>

                <div class="step">
                    <h4>3. Abrir 3 cuentas</h4>
                    <p>Opción: <code>2</code> (tres veces)</p>
                    <ul>
                        <li>Cuenta 001 → Tipo 1 (AHORROS)</li>
                        <li>Cuenta 002 → Tipo 2 (CORRIENTE)</li>
                        <li>Cuenta 003 → Tipo 1 (AHORROS)</li>
                    </ul>
                </div>

                <div class="step">
                    <h4>4. Ver información</h4>
                    <p>Opción: <code>3</code></p>
                    <p>Deberías ver las 3 cuentas listadas</p>
                </div>

                <div class="step">
                    <h4>5. Probar el límite</h4>
                    <p>Opción: <code>2</code> (tres veces más)</p>
                    <ul>
                        <li>Cuenta 004 → ✓ Se crea (4/6)</li>
                        <li>Cuenta 005 → ✓ Se crea (5/6)</li>
                        <li>Cuenta 006 → ✓ Se crea (6/6)</li>
                    </ul>
                </div>

                <div class="step">
                    <h4>6. Intentar crear la 7ma</h4>
                    <p>Opción: <code>2</code></p>
                    <p>Cuenta 007 → ✗ Debe rechazarse</p>
                    <div class="info-box danger">
                        <p><strong>Si se crea la 7ma cuenta:</strong> Tu validación en <code>abrirCuenta()</code> no está funcionando. Revisa la Lección 4.</p>
                    </div>
                </div>

                <div class="step">
                    <h4>7. Salir</h4>
                    <p>Opción: <code>0</code></p>
                </div>
            </div>
        </section>

        <!-- Solución de Problemas -->
        <section class="content-section">
            <h2>🔧 Solución de Problemas</h2>

            <div class="info-box danger">
                <h3>❌ Error: NullPointerException al abrir cuenta</h3>
                <div class="code-block">
                    <pre><code>Exception in thread "main" java.lang.NullPointerException
    at Cliente.abrirCuenta(Cliente.java:XX)</code></pre>
                </div>
                <h4>Causa:</h4>
                <p>No inicializaste el ArrayList en el constructor de Cliente</p>
                <h4>Solución (Lección 3):</h4>
                <div class="code-block">
                    <pre><code class="language-java">public Cliente(String nombre, String cedula) {
    this.nombre = nombre;
    this.cedula = cedula;
    this.cuentas = new ArrayList<>();  // ← ¡Importante!
}</code></pre>
                </div>
            </div>

            <div class="info-box danger">
                <h3>❌ Veo "null" en lugar del número de cuenta</h3>
                <h4>Causa:</h4>
                <p>Los getters no están retornando los atributos correctamente</p>
                <h4>Solución (Lección 2):</h4>
                <div class="code-block">
                    <pre><code class="language-java">public String getNumeroCuenta() {
    return numeroCuenta;  // No retornes null
}</code></pre>
                </div>
            </div>

            <div class="info-box danger">
                <h3>❌ El CLI crea más de 6 cuentas</h3>
                <h4>Causa:</h4>
                <p>La validación en <code>abrirCuenta()</code> no está funcionando</p>
                <h4>Solución (Lección 4):</h4>
                <div class="code-block">
                    <pre><code class="language-java">public boolean abrirCuenta(String numeroCuenta, String tipo) {
    // Paso 1: Validar límite
    if (cuentas.size() >= 6) {
        return false;  // ← Importante
    }

    // Resto del código...
}</code></pre>
                </div>
            </div>

            <div class="info-box danger">
                <h3>❌ Error: "No hay un cliente activo"</h3>
                <h4>Causa:</h4>
                <p>Intentaste usar las opciones 2 o 3 sin crear un cliente primero</p>
                <h4>Solución:</h4>
                <p>Siempre usa la <strong>Opción 1</strong> para crear un cliente antes de abrir cuentas</p>
            </div>
        </section>

        <!-- Verificación de Éxito -->
        <section class="content-section">
            <h2>✅ ¿Cómo Sé que Todo Funciona?</h2>

            <div class="info-box success">
                <h3>Checklist de Verificación</h3>
                <ul style="list-style: none; padding-left: 0;">
                    <li><input type="checkbox"> ✅ Puedo crear un cliente sin errores</li>
                    <li><input type="checkbox"> ✅ Puedo abrir 1 cuenta y ver "1/6"</li>
                    <li><input type="checkbox"> ✅ Puedo abrir hasta 6 cuentas</li>
                    <li><input type="checkbox"> ✅ El sistema rechaza la 7ma cuenta</li>
                    <li><input type="checkbox"> ✅ Veo la lista de cuentas correctamente (opción 3)</li>
                    <li><input type="checkbox"> ✅ Los números de cuenta se muestran (no "null")</li>
                    <li><input type="checkbox"> ✅ Los tipos se muestran correctamente</li>
                    <li><input type="checkbox"> ✅ NO hay errores NullPointerException</li>
                </ul>
            </div>

            <div class="info-box">
                <h3>Métodos Alternativos de Verificación</h3>
                <h4>1. Ejecutar los Tests</h4>
                <div class="code-block">
                    <pre><code class="language-bash">mvn test</code></pre>
                </div>
                <p>Si todos los 17 tests pasan → Tu código está correcto ✅</p>

                <h4>2. Revisar los Indicadores</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Si puedes...</th>
                            <th>Entonces...</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Crear cliente</td>
                            <td>Lección 3 ✓ (ArrayList inicializado)</td>
                        </tr>
                        <tr>
                            <td>Abrir cuentas</td>
                            <td>Lecciones 1 y 4 ✓ (Constructor y add())</td>
                        </tr>
                        <tr>
                            <td>Ver información</td>
                            <td>Lección 2 ✓ (Getters)</td>
                        </tr>
                        <tr>
                            <td>Sistema rechaza 7ma cuenta</td>
                            <td>Lección 4 ✓ (Validación con size())</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Navegación -->
        <nav class="lesson-nav">
            <a href="../index.html" class="btn btn-secondary">← Volver al Inicio</a>
            <a href="1-constructor.html" class="btn btn-primary">Ir a Lección 1 →</a>
        </nav>
    </main>

    <footer>
        <div class="container">
            <p>© 2025 - Fundamentos de Programación | EAM Universidad</p>
        </div>
    </footer>

    <script src="../js/main.js"></script>
</body>
</html>
