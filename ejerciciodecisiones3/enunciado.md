# ü™ô Sistema de Gesti√≥n de Portafolio de Criptomonedas

## Contexto del Problema

Eres un trader de criptomonedas que necesita llevar el control de tus operaciones de compra y venta. Has decidido trabajar √∫nicamente con **5 criptomonedas espec√≠ficas** que consideras las m√°s prometedoras del mercado.

Tu sistema debe registrar **UNA operaci√≥n a la vez** (ya sea compra o venta) y mantener el control actualizado de tu portafolio, mostrando estad√≠sticas y an√°lisis despu√©s de cada operaci√≥n.

## Las 5 Criptomonedas Disponibles

Tu portafolio solo puede incluir estas criptomonedas:

1. **Bitcoin (BTC)**
2. **Ethereum (ETH)**
3. **Cardano (ADA)**
4. **Solana (SOL)**
5. **Ripple (XRP)**

## Informaci√≥n de Cada Operaci√≥n

Cuando realizas una operaci√≥n, debes registrar:

- **Tipo de operaci√≥n**: "Compra" o "Venta"
- **Criptomoneda**: Una de las 5 disponibles (BTC, ETH, ADA, SOL, XRP)
- **Cantidad de monedas**: Cu√°ntas unidades est√°s comprando o vendiendo
- **Precio unitario**: Precio en d√≥lares de cada moneda en el momento de la operaci√≥n
- **D√≠a de la semana**: "Lunes", "Martes", "Mi√©rcoles", "Jueves", "Viernes", "S√°bado" o "Domingo"
- **Hora del d√≠a**: N√∫mero entre 0 y 23 (formato 24 horas)

## Determinaci√≥n del Per√≠odo del D√≠a

El sistema debe determinar autom√°ticamente el per√≠odo seg√∫n la hora ingresada:

- **Ma√±ana**: Si la hora est√° entre 6 y 11 (inclusive) ‚Üí 6:00 AM a 11:59 AM
- **Tarde**: Si la hora est√° entre 12 y 17 (inclusive) ‚Üí 12:00 PM a 5:59 PM
- **Noche**: Si la hora est√° entre 18 y 23, o entre 0 y 5 ‚Üí 6:00 PM a 5:59 AM

**Ejemplos:**
- Hora = 8 ‚Üí Ma√±ana
- Hora = 14 ‚Üí Tarde
- Hora = 20 ‚Üí Noche
- Hora = 3 ‚Üí Noche

## Estado del Portafolio (Por cada Criptomoneda)

Tu sistema debe mantener y calcular para **CADA** una de las 5 criptomonedas:

- **Cantidad total comprada**: Suma de todas las monedas compradas
- **Cantidad total vendida**: Suma de todas las monedas vendidas
- **Cantidad actual en portafolio**: Compradas - Vendidas
- **Dinero invertido total**: Suma del costo de todas las compras (SIN incluir comisiones)
- **Dinero recuperado total**: Suma del ingreso de todas las ventas (SIN incluir comisiones)
- **Precio promedio de compra**: Dinero invertido / Cantidad comprada (si hay compras)
- **Precio promedio de venta**: Dinero recuperado / Cantidad vendida (si hay ventas)
- **Ganancia/P√©rdida realizada**: Dinero recuperado - Dinero invertido proporcional a las ventas
- **Total pagado en comisiones**: Suma de todas las comisiones pagadas en esa cripto

## Control Global de Comisiones

El sistema debe llevar el control de:

- **Comisiones totales pagadas**: Suma de TODAS las comisiones de TODAS las operaciones realizadas
- **Comisiones pagadas por cada criptomoneda**: Desglose individual

## An√°lisis Requeridos

### 1. An√°lisis por Criptomoneda
Para cada cripto, calcular:
- Rentabilidad porcentual: ((Precio promedio venta - Precio promedio compra) / Precio promedio compra) √ó 100
- Estado: "Ganancia", "P√©rdida" o "Sin ventas a√∫n"
- Total pagado en comisiones para esa cripto espec√≠fica

### 2. An√°lisis General del Portafolio
- **Ganancia/P√©rdida total**: Suma de ganancias/p√©rdidas de todas las criptos
- **Valor total invertido**: Suma de todo el dinero invertido en compras
- **Valor total recuperado**: Suma de todo el dinero de ventas
- **Cripto con mejor rentabilidad**: La que tiene mayor porcentaje de ganancia
- **Cripto con peor rentabilidad**: La que tiene menor porcentaje (puede ser negativo)
- **Total acumulado en comisiones**: Todo el dinero pagado en comisiones desde el inicio

### 3. Comisiones Especiales por Horario y D√≠a

Las comisiones var√≠an seg√∫n el **d√≠a de la semana** Y el **per√≠odo del d√≠a** (determinado por la hora):

#### Por D√≠a de la Semana:
- **Lunes a Viernes**: Comisi√≥n base 0.5%
- **S√°bado**: Comisi√≥n base 0.8% (fin de semana)
- **Domingo**: Comisi√≥n base 1.0% (menor liquidez)

#### Ajuste Adicional por Per√≠odo del D√≠a:
- **Ma√±ana** (hora 6-11): Sin ajuste adicional
- **Tarde** (hora 12-17): +0.2% adicional (alta volatilidad)
- **Noche** (hora 18-23 o 0-5): +0.5% adicional (baja liquidez)

**Ejemplo de c√°lculo de comisi√≥n:**
- Si operas un **S√°bado** a las **21 horas** (Noche): 0.8% (s√°bado) + 0.5% (noche) = **1.3% de comisi√≥n**
- Si operas un **Martes** a las **9 horas** (Ma√±ana): 0.5% (martes) + 0% (ma√±ana) = **0.5% de comisi√≥n**
- Si operas un **Viernes** a las **15 horas** (Tarde): 0.5% (viernes) + 0.2% (tarde) = **0.7% de comisi√≥n**

### 4. Alertas y Recomendaciones Especiales

Seg√∫n la **criptomoneda espec√≠fica**, debes mostrar alertas:

#### Para Bitcoin (BTC):
- Si el precio de compra es **mayor a $60,000**: "‚ö†Ô∏è ALERTA: BTC en precio hist√≥rico alto"
- Si el precio de venta es **menor a $30,000**: "‚ö†Ô∏è ALERTA: Posible venta en p√©rdida de BTC"

#### Para Ethereum (ETH):
- Si el precio de compra es **mayor a $3,500**: "‚ö†Ô∏è ALERTA: ETH cerca de m√°ximo hist√≥rico"
- Si compras **m√°s de 10 ETH**: "üíé Compra grande de ETH detectada"

#### Para Cardano (ADA):
- Si el precio es **menor a $0.30**: "üî• OPORTUNIDAD: ADA en precio bajo"
- Si vendes con **ganancia mayor al 50%**: "üéâ Excelente operaci√≥n con ADA"

#### Para Solana (SOL):
- Si el precio es **mayor a $150**: "‚ö†Ô∏è PRECAUCI√ìN: SOL en zona de resistencia"
- Si compras en **fin de semana** (S√°bado o Domingo): "‚è∞ Compra de SOL en fin de semana - Mayor volatilidad"

#### Para Ripple (XRP):
- Si el precio es **menor a $0.50**: "üí∞ Precio atractivo de XRP"
- Si vendes **m√°s de 1000 XRP**: "üìä Venta significativa de XRP"

### 5. Recomendaci√≥n de Estrategia

Basado en el **per√≠odo del d√≠a** (determinado por la hora), mostrar recomendaci√≥n:

#### Si es Ma√±ana (hora 6-11):
- **Y es Lunes a Viernes**: "‚úÖ Horario √≥ptimo para operar - Buena liquidez"
- **Y es fin de semana**: "‚ö†Ô∏è Liquidez moderada en fin de semana"

#### Si es Tarde (hora 12-17):
- **Y es Lunes a Viernes**: "üìä Alta volatilidad esperada - Oportunidades y riesgos"
- **Y es fin de semana**: "‚ö†Ô∏è Comisiones m√°s altas en fin de semana"

#### Si es Noche (hora 18-23 o 0-5):
- **Para cualquier d√≠a**: "üåô Comisi√≥n alta por baja liquidez - Considere operar en la ma√±ana"

---

## üéØ Historia de Trading: Ejemplos Encadenados

### üìÖ LUNES - Operaci√≥n 1: Iniciando el Portafolio con Bitcoin

**Contexto:** Es tu primera operaci√≥n. Decides comenzar comprando Bitcoin en un horario √≥ptimo.

**Operaci√≥n:**
- Tipo: Compra
- Cripto: Bitcoin (BTC)
- Cantidad: 0.5 BTC
- Precio unitario: $45,000
- D√≠a: Lunes
- Hora: 9

**Paso 1: Determinar el per√≠odo del d√≠a**

> üí° **Recuerda:** Seg√∫n las reglas de determinaci√≥n del per√≠odo:
> - Ma√±ana: hora entre 6 y 11
> - Tarde: hora entre 12 y 17
> - Noche: hora entre 18-23 o 0-5

- Hora = 9, est√° entre 6 y 11 ‚Üí **Ma√±ana**

**Paso 2: Calcular el monto de la operaci√≥n**

> üí° **Recuerda:** Monto de operaci√≥n = Cantidad √ó Precio unitario

- Monto de operaci√≥n: 0.5 √ó $45,000 = $22,500

**Paso 3: Calcular la comisi√≥n**

> üí° **Recuerda:** La comisi√≥n tiene dos componentes:
> - Comisi√≥n base por d√≠a: Lunes a Viernes = 0.5%, S√°bado = 0.8%, Domingo = 1.0%
> - Ajuste por per√≠odo: Ma√±ana = 0%, Tarde = +0.2%, Noche = +0.5%

- D√≠a: Lunes (d√≠a laboral) ‚Üí 0.5% base
- Per√≠odo: Ma√±ana ‚Üí +0% adicional
- Comisi√≥n total: 0.5% + 0% = 0.5%
- Comisi√≥n en d√≥lares: $22,500 √ó 0.005 = $112.50
- Costo total: $22,500 + $112.50 = $22,612.50

**Paso 4: Actualizar el estado del portafolio de BTC**

> üí° **Recuerda:** Al comprar, actualizas:
> - Cantidad comprada (suma)
> - Dinero invertido (suma, SIN incluir comisiones)
> - Precio promedio = Dinero invertido / Cantidad comprada
> - Comisiones pagadas (suma)

**Estado del Portafolio BTC:**
- Cantidad comprada: 0 + 0.5 = 0.5 BTC
- Cantidad vendida: 0 BTC
- Cantidad actual: 0.5 - 0 = 0.5 BTC
- Dinero invertido: $0 + $22,500 = $22,500
- Dinero recuperado: $0
- Precio promedio compra: $22,500 / 0.5 = $45,000
- Ganancia/P√©rdida: $0 (a√∫n no hay ventas)
- Comisiones pagadas en BTC: $0 + $112.50 = $112.50

**Estado de Otras Criptos:**
- ETH: Sin operaciones
- ADA: Sin operaciones
- SOL: Sin operaciones
- XRP: Sin operaciones

**Paso 5: Actualizar el resumen general**

> üí° **Recuerda:** El resumen general suma valores de TODAS las criptos

**Resumen General del Portafolio:**
- Valor total invertido: $22,500 (solo BTC)
- Valor total recuperado: $0
- Ganancia/P√©rdida total: $0
- Comisiones totales pagadas: $112.50
- Cripto con mejor rentabilidad: N/A (sin ventas)

**Desglose de Comisiones:**
- BTC: $112.50
- ETH: $0
- ADA: $0
- SOL: $0
- XRP: $0
- **TOTAL: $112.50**

**Paso 6: Evaluar alertas espec√≠ficas de Bitcoin**

> üí° **Recuerda:** Para BTC, las alertas son:
> - Si precio de compra > $60,000: "ALERTA: BTC en precio hist√≥rico alto"
> - Si precio de venta < $30,000: "ALERTA: Posible venta en p√©rdida de BTC"

- Precio de compra: $45,000 (no es mayor a $60,000)
- Alertas: Ninguna

**Paso 7: Mostrar recomendaci√≥n de estrategia**

> üí° **Recuerda:** La recomendaci√≥n depende del per√≠odo Y del d√≠a:
> - Ma√±ana + Lunes a Viernes: "Horario √≥ptimo para operar - Buena liquidez"
> - Ma√±ana + Fin de semana: "Liquidez moderada en fin de semana"
> - Tarde + Lunes a Viernes: "Alta volatilidad esperada"
> - Tarde + Fin de semana: "Comisiones m√°s altas en fin de semana"
> - Noche + Cualquier d√≠a: "Comisi√≥n alta por baja liquidez"

- Per√≠odo: Ma√±ana
- D√≠a: Lunes (laboral)
- Recomendaci√≥n: "‚úÖ Horario √≥ptimo para operar - Buena liquidez"

**An√°lisis Final:**
- Estado BTC: "Sin ventas a√∫n"
- Per√≠odo del d√≠a: Ma√±ana
- Alertas: Ninguna
- Recomendaci√≥n: "‚úÖ Horario √≥ptimo para operar - Buena liquidez"

---

### üìÖ MI√âRCOLES - Operaci√≥n 2: Diversificando con Cardano

**Contexto:** Dos d√≠as despu√©s, ves que Cardano est√° a buen precio. Decides diversificar tu portafolio.

**Estado previo del portafolio:**
- BTC: 0.5 BTC en portafolio, $22,500 invertidos, $112.50 en comisiones
- Comisiones totales acumuladas: $112.50

**Operaci√≥n:**
- Tipo: Compra
- Cripto: Cardano (ADA)
- Cantidad: 2000 ADA
- Precio unitario: $0.28
- D√≠a: Mi√©rcoles
- Hora: 14

**Paso 1: Determinar el per√≠odo del d√≠a**

> üí° **Recuerda:** Hora 14 est√° entre 12 y 17 ‚Üí Tarde

- Hora = 14, est√° entre 12 y 17 ‚Üí **Tarde**

**Paso 2: Calcular el monto de la operaci√≥n**

- Monto de operaci√≥n: 2000 √ó $0.28 = $560

**Paso 3: Calcular la comisi√≥n**

> üí° **Recuerda:** Mi√©rcoles es d√≠a laboral (0.5% base) y Tarde tiene +0.2% adicional

- D√≠a: Mi√©rcoles (d√≠a laboral) ‚Üí 0.5% base
- Per√≠odo: Tarde ‚Üí +0.2% adicional
- Comisi√≥n total: 0.5% + 0.2% = 0.7%
- Comisi√≥n en d√≥lares: $560 √ó 0.007 = $3.92
- Costo total: $560 + $3.92 = $563.92

**Paso 4: Actualizar el estado del portafolio de ADA**

> üí° **Recuerda:** Esta es la primera compra de ADA, as√≠ que partimos de cero

**Estado del Portafolio ADA:**
- Cantidad comprada: 0 + 2000 = 2000 ADA
- Cantidad vendida: 0 ADA
- Cantidad actual: 2000 - 0 = 2000 ADA
- Dinero invertido: $0 + $560 = $560
- Dinero recuperado: $0
- Precio promedio compra: $560 / 2000 = $0.28
- Ganancia/P√©rdida: $0
- Comisiones pagadas en ADA: $0 + $3.92 = $3.92

**Estado del Portafolio BTC (sin cambios):**
- Cantidad actual: 0.5 BTC
- Dinero invertido: $22,500
- Comisiones pagadas en BTC: $112.50

**Paso 5: Actualizar el resumen general**

> üí° **Recuerda:** Ahora debes sumar los valores de BTC y ADA

**Resumen General del Portafolio:**
- Valor total invertido: $22,500 (BTC) + $560 (ADA) = $23,060
- Valor total recuperado: $0
- Ganancia/P√©rdida total: $0
- Comisiones totales pagadas: $112.50 + $3.92 = $116.42
- Cripto con mejor rentabilidad: N/A (sin ventas)

**Desglose de Comisiones:**
- BTC: $112.50
- ETH: $0
- ADA: $3.92
- SOL: $0
- XRP: $0
- **TOTAL: $116.42**

**Paso 6: Evaluar alertas espec√≠ficas de Cardano**

> üí° **Recuerda:** Para ADA, las alertas son:
> - Si precio < $0.30: "OPORTUNIDAD: ADA en precio bajo"
> - Si vendes con ganancia > 50%: "Excelente operaci√≥n con ADA"

- Precio: $0.28 (es menor a $0.30) ‚úì
- Alertas: "üî• OPORTUNIDAD: ADA en precio bajo"

**Paso 7: Mostrar recomendaci√≥n de estrategia**

- Per√≠odo: Tarde
- D√≠a: Mi√©rcoles (laboral)
- Recomendaci√≥n: "üìä Alta volatilidad esperada - Oportunidades y riesgos"

**An√°lisis Final:**
- Estado ADA: "Sin ventas a√∫n"
- Per√≠odo del d√≠a: Tarde
- Alertas: "üî• OPORTUNIDAD: ADA en precio bajo"
- Recomendaci√≥n: "üìä Alta volatilidad esperada - Oportunidades y riesgos"

---

### üìÖ VIERNES - Operaci√≥n 3: Comprando m√°s Cardano en horario nocturno

**Contexto:** El precio de Cardano sigue bajando. Decides comprar m√°s para promediar tu precio, pero es tarde en la noche.

**Estado previo del portafolio:**
- BTC: 0.5 BTC, invertido $22,500, comisiones $112.50
- ADA: 2000 ADA (precio promedio $0.28), invertido $560, comisiones $3.92
- Comisiones totales: $116.42

**Operaci√≥n:**
- Tipo: Compra
- Cripto: Cardano (ADA)
- Cantidad: 3000 ADA
- Precio unitario: $0.25
- D√≠a: Viernes
- Hora: 21

**Paso 1: Determinar el per√≠odo del d√≠a**

> üí° **Recuerda:** Hora 21 est√° entre 18 y 23 ‚Üí Noche

- Hora = 21, est√° entre 18 y 23 ‚Üí **Noche**

**Paso 2: Calcular el monto de la operaci√≥n**

- Monto de operaci√≥n: 3000 √ó $0.25 = $750

**Paso 3: Calcular la comisi√≥n**

> üí° **Recuerda:** Viernes es d√≠a laboral (0.5% base) pero Noche tiene +0.5% adicional

- D√≠a: Viernes (d√≠a laboral) ‚Üí 0.5% base
- Per√≠odo: Noche ‚Üí +0.5% adicional
- Comisi√≥n total: 0.5% + 0.5% = 1.0%
- Comisi√≥n en d√≥lares: $750 √ó 0.01 = $7.50
- Costo total: $750 + $7.50 = $757.50

**Paso 4: Actualizar el estado del portafolio de ADA**

> üí° **Recuerda:** Ya ten√≠as 2000 ADA. Al comprar m√°s, debes:
> - SUMAR las cantidades compradas
> - SUMAR el dinero invertido
> - RECALCULAR el precio promedio = Total invertido / Total comprado

**Estado del Portafolio ADA (ACTUALIZADO):**
- Cantidad comprada: 2000 + 3000 = 5000 ADA
- Cantidad vendida: 0 ADA
- Cantidad actual: 5000 - 0 = 5000 ADA
- Dinero invertido: $560 + $750 = $1,310
- Dinero recuperado: $0
- Precio promedio compra: $1,310 / 5000 = $0.262 ‚Üê **¬°Cambi√≥!**
- Ganancia/P√©rdida: $0
- Comisiones pagadas en ADA: $3.92 + $7.50 = $11.42

**Estado del Portafolio BTC (sin cambios):**
- Cantidad actual: 0.5 BTC
- Dinero invertido: $22,500
- Comisiones pagadas en BTC: $112.50

**Paso 5: Actualizar el resumen general**

**Resumen General del Portafolio:**
- Valor total invertido: $22,500 + $1,310 = $23,810
- Valor total recuperado: $0
- Ganancia/P√©rdida total: $0
- Comisiones totales pagadas: $112.50 + $11.42 = $123.92
- Cripto con mejor rentabilidad: N/A (sin ventas)

**Desglose de Comisiones:**
- BTC: $112.50
- ETH: $0
- ADA: $11.42
- SOL: $0
- XRP: $0
- **TOTAL: $123.92**

**Paso 6: Evaluar alertas**

- Precio: $0.25 (es menor a $0.30) ‚úì
- Alertas: "üî• OPORTUNIDAD: ADA en precio bajo"

**Paso 7: Mostrar recomendaci√≥n de estrategia**

> üí° **Recuerda:** Noche siempre da la misma recomendaci√≥n sin importar el d√≠a

- Per√≠odo: Noche
- Recomendaci√≥n: "üåô Comisi√≥n alta por baja liquidez - Considere operar en la ma√±ana"

**An√°lisis Final:**
- Estado ADA: "Sin ventas a√∫n"
- Per√≠odo del d√≠a: Noche
- Alertas: "üî• OPORTUNIDAD: ADA en precio bajo"
- Recomendaci√≥n: "üåô Comisi√≥n alta por baja liquidez - Considere operar en la ma√±ana"
- **Nota:** El precio promedio de compra de ADA baj√≥ de $0.28 a $0.262

---

### üìÖ LUNES SIGUIENTE - Operaci√≥n 4: Primera Venta - Tomando Ganancias en Cardano

**Contexto:** Una semana despu√©s, Cardano subi√≥ significativamente. Decides tomar ganancias vendiendo parte de tu posici√≥n en horario √≥ptimo.

**Estado previo del portafolio:**
- BTC: 0.5 BTC, invertido $22,500, comisiones $112.50
- ADA: 5000 ADA (precio promedio $0.262), invertido $1,310, comisiones $11.42
- Comisiones totales: $123.92

**Operaci√≥n:**
- Tipo: Venta
- Cripto: Cardano (ADA)
- Cantidad: 3000 ADA
- Precio unitario: $0.45
- D√≠a: Lunes
- Hora: 10

**Paso 1: Determinar el per√≠odo del d√≠a**

- Hora = 10, est√° entre 6 y 11 ‚Üí **Ma√±ana**

**Paso 2: Calcular el monto de la operaci√≥n**

- Monto de operaci√≥n: 3000 √ó $0.45 = $1,350

**Paso 3: Calcular la comisi√≥n**

> üí° **Recuerda:** Lunes es d√≠a laboral (0.5% base) y Ma√±ana no tiene ajuste adicional

- D√≠a: Lunes (d√≠a laboral) ‚Üí 0.5% base
- Per√≠odo: Ma√±ana ‚Üí +0% adicional
- Comisi√≥n total: 0.5% + 0% = 0.5%
- Comisi√≥n en d√≥lares: $1,350 √ó 0.005 = $6.75
- Ingreso neto: $1,350 - $6.75 = $1,343.25

**Paso 4: Actualizar el estado del portafolio de ADA**

> üí° **Recuerda:** Al VENDER, actualizas:
> - Cantidad vendida (suma)
> - Cantidad actual (compradas - vendidas)
> - Dinero recuperado (suma, SIN incluir comisiones)
> - Precio promedio de venta = Dinero recuperado / Cantidad vendida
> - Ganancia = Dinero recuperado - (Cantidad vendida √ó Precio promedio compra)
> - Rentabilidad = ((Precio venta - Precio compra) / Precio compra) √ó 100

**Estado del Portafolio ADA (ACTUALIZADO):**
- Cantidad comprada: 5000 ADA (sin cambio)
- Cantidad vendida: 0 + 3000 = 3000 ADA
- Cantidad actual: 5000 - 3000 = 2000 ADA
- Dinero invertido: $1,310 (sin cambio)
- Dinero recuperado: $0 + $1,350 = $1,350
- Precio promedio compra: $0.262 (sin cambio)
- Precio promedio venta: $1,350 / 3000 = $0.45
- Costo de las 3000 vendidas: 3000 √ó $0.262 = $786
- **Ganancia realizada: $1,350 - $786 = $564** ‚Üê ¬°Primera ganancia!
- **Rentabilidad: (($0.45 - $0.262) / $0.262) √ó 100 = 71.76%**
- Comisiones pagadas en ADA: $11.42 + $6.75 = $18.17

**Estado del Portafolio BTC (sin cambios):**
- Cantidad actual: 0.5 BTC
- Dinero invertido: $22,500
- Comisiones pagadas en BTC: $112.50

**Paso 5: Actualizar el resumen general**

> üí° **Recuerda:** Ahora que tienes una venta, puedes calcular ganancia total

**Resumen General del Portafolio:**
- Valor total invertido: $23,810
- Valor total recuperado: $1,350
- **Ganancia/P√©rdida total: $564** (solo de ADA)
- Comisiones totales pagadas: $112.50 + $18.17 = $130.67
- **Cripto con mejor rentabilidad: Cardano (ADA) con 71.76%**
- **Cripto con peor rentabilidad: Cardano (ADA) con 71.76%** (√∫nica con ventas)

**Desglose de Comisiones:**
- BTC: $112.50
- ETH: $0
- ADA: $18.17
- SOL: $0
- XRP: $0
- **TOTAL: $130.67**

**Paso 6: Evaluar alertas espec√≠ficas de Cardano**

> üí° **Recuerda:** Para ADA en venta, verificar si la ganancia es > 50%

- Rentabilidad: 71.76% (es mayor a 50%) ‚úì
- Alertas: "üéâ Excelente operaci√≥n con ADA"

**Paso 7: Mostrar recomendaci√≥n de estrategia**

- Per√≠odo: Ma√±ana
- D√≠a: Lunes (laboral)
- Recomendaci√≥n: "‚úÖ Horario √≥ptimo para operar - Buena liquidez"

**An√°lisis Final:**
- Estado ADA: "Ganancia"
- Rentabilidad ADA: 71.76%
- Per√≠odo del d√≠a: Ma√±ana
- Alertas: "üéâ Excelente operaci√≥n con ADA"
- Recomendaci√≥n: "‚úÖ Horario √≥ptimo para operar - Buena liquidez"
- **Nota importante:** Has ganado $564 pero has pagado $130.67 en comisiones totales (23.17% de tus ganancias)

---

### üìÖ MI√âRCOLES - Operaci√≥n 5: Agregando Ethereum al Portafolio

**Contexto:** Con las ganancias de Cardano, decides diversificar m√°s comprando Ethereum en la tarde.

**Estado previo del portafolio:**
- BTC: 0.5 BTC, invertido $22,500, comisiones $112.50
- ADA: 2000 ADA, invertido $1,310, recuperado $1,350, ganancia $564, comisiones $18.17
- Comisiones totales: $130.67
- Ganancia total: $564

**Operaci√≥n:**
- Tipo: Compra
- Cripto: Ethereum (ETH)
- Cantidad: 12 ETH
- Precio unitario: $3,100
- D√≠a: Mi√©rcoles
- Hora: 15

**Paso 1: Determinar el per√≠odo del d√≠a**

- Hora = 15, est√° entre 12 y 17 ‚Üí **Tarde**

**Paso 2: Calcular el monto de la operaci√≥n**

- Monto de operaci√≥n: 12 √ó $3,100 = $37,200

**Paso 3: Calcular la comisi√≥n**

- D√≠a: Mi√©rcoles (d√≠a laboral) ‚Üí 0.5% base
- Per√≠odo: Tarde ‚Üí +0.2% adicional
- Comisi√≥n total: 0.5% + 0.2% = 0.7%
- Comisi√≥n en d√≥lares: $37,200 √ó 0.007 = $260.40
- Costo total: $37,200 + $260.40 = $37,460.40

**Paso 4: Actualizar el estado del portafolio de ETH**

> üí° **Recuerda:** Esta es la primera operaci√≥n de ETH

**Estado del Portafolio ETH:**
- Cantidad comprada: 0 + 12 = 12 ETH
- Cantidad vendida: 0 ETH
- Cantidad actual: 12 - 0 = 12 ETH
- Dinero invertido: $0 + $37,200 = $37,200
- Dinero recuperado: $0
- Precio promedio compra: $37,200 / 12 = $3,100
- Ganancia/P√©rdida: $0
- Comisiones pagadas en ETH: $0 + $260.40 = $260.40

**Estados de las dem√°s criptos (sin cambios):**
- BTC: 0.5 BTC, invertido $22,500, comisiones $112.50
- ADA: 2000 ADA, ganancia $564, comisiones $18.17

**Paso 5: Actualizar el resumen general**

> üí° **Recuerda:** Suma inversiones de BTC, ETH y ADA

**Resumen General del Portafolio:**
- Valor total invertido: $22,500 + $1,310 + $37,200 = $61,010
- Valor total recuperado: $1,350
- Ganancia/P√©rdida total: $564 (solo de ADA)
- Comisiones totales pagadas: $112.50 + $18.17 + $260.40 = $391.07
- Cripto con mejor rentabilidad: Cardano (ADA) con 71.76%
- Cripto con peor rentabilidad: Cardano (ADA) con 71.76% (√∫nica con ventas)

**Desglose de Comisiones:**
- BTC: $112.50
- ETH: $260.40
- ADA: $18.17
- SOL: $0
- XRP: $0
- **TOTAL: $391.07**

**Paso 6: Evaluar alertas espec√≠ficas de Ethereum**

> üí° **Recuerda:** Para ETH, las alertas son:
> - Si precio de compra > $3,500: "ALERTA: ETH cerca de m√°ximo hist√≥rico"
> - Si compras > 10 ETH: "Compra grande de ETH detectada"

- Precio: $3,100 (no es mayor a $3,500)
- Cantidad: 12 ETH (es mayor a 10) ‚úì
- Alertas: "üíé Compra grande de ETH detectada"

**Paso 7: Mostrar recomendaci√≥n de estrategia**

- Per√≠odo: Tarde
- D√≠a: Mi√©rcoles (laboral)
- Recomendaci√≥n: "üìä Alta volatilidad esperada - Oportunidades y riesgos"

**An√°lisis Final:**
- Estado ETH: "Sin ventas a√∫n"
- Per√≠odo del d√≠a: Tarde
- Alertas: "üíé Compra grande de ETH detectada"
- Recomendaci√≥n: "üìä Alta volatilidad esperada - Oportunidades y riesgos"
- **Nota cr√≠tica:** Las comisiones totales ($391.07) representan 69.34% de tus ganancias totales ($564)

---

### üìÖ S√ÅBADO - Operaci√≥n 6: Venta de Bitcoin en Fin de Semana

**Contexto:** Bitcoin subi√≥ de precio y decides tomar ganancias, aunque sea fin de semana por la noche (peor horario para comisiones).

**Estado previo del portafolio:**
- BTC: 0.5 BTC (precio promedio $45,000), invertido $22,500, comisiones $112.50
- ETH: 12 ETH, invertido $37,200, comisiones $260.40
- ADA: 2000 ADA, ganancia realizada $564, comisiones $18.17
- Comisiones totales: $391.07
- Ganancia total: $564

**Operaci√≥n:**
- Tipo: Venta
- Cripto: Bitcoin (BTC)
- Cantidad: 0.3 BTC
- Precio unitario: $52,000
- D√≠a: S√°bado
- Hora: 22

**Paso 1: Determinar el per√≠odo del d√≠a**

- Hora = 22, est√° entre 18 y 23 ‚Üí **Noche**

**Paso 2: Calcular el monto de la operaci√≥n**

- Monto de operaci√≥n: 0.3 √ó $52,000 = $15,600

**Paso 3: Calcular la comisi√≥n**

> üí° **Recuerda:** S√°bado es fin de semana (0.8% base) y Noche tiene +0.5% adicional

- D√≠a: S√°bado (fin de semana) ‚Üí 0.8% base
- Per√≠odo: Noche ‚Üí +0.5% adicional
- Comisi√≥n total: 0.8% + 0.5% = 1.3%
- Comisi√≥n en d√≥lares: $15,600 √ó 0.013 = $202.80
- Ingreso neto: $15,600 - $202.80 = $15,397.20

**Paso 4: Actualizar el estado del portafolio de BTC**

> üí° **Recuerda:** Al vender, calcula la ganancia usando el precio promedio de compra

**Estado del Portafolio BTC (ACTUALIZADO):**
- Cantidad comprada: 0.5 BTC (sin cambio)
- Cantidad vendida: 0 + 0.3 = 0.3 BTC
- Cantidad actual: 0.5 - 0.3 = 0.2 BTC
- Dinero invertido: $22,500 (sin cambio)
- Dinero recuperado: $0 + $15,600 = $15,600
- Precio promedio compra: $45,000 (sin cambio)
- Precio promedio venta: $15,600 / 0.3 = $52,000
- Costo de las 0.3 vendidas: 0.3 √ó $45,000 = $13,500
- **Ganancia realizada: $15,600 - $13,500 = $2,100**
- **Rentabilidad: (($52,000 - $45,000) / $45,000) √ó 100 = 15.56%**
- Comisiones pagadas en BTC: $112.50 + $202.80 = $315.30

**Estados de las dem√°s criptos (sin cambios):**
- ETH: 12 ETH, invertido $37,200, comisiones $260.40
- ADA: 2000 ADA, ganancia $564, rentabilidad 71.76%, comisiones $18.17

**Paso 5: Actualizar el resumen general**

> üí° **Recuerda:** Ahora tienes dos criptos con ganancias realizadas

**Resumen General del Portafolio:**
- Valor total invertido: $61,010
- Valor total recuperado: $1,350 (ADA) + $15,600 (BTC) = $16,950
- **Ganancia/P√©rdida total: $564 (ADA) + $2,100 (BTC) = $2,664**
- Comisiones totales pagadas: $315.30 + $260.40 + $18.17 = $593.87
- **Cripto con mejor rentabilidad: Cardano (ADA) con 71.76%**
- **Cripto con peor rentabilidad: Bitcoin (BTC) con 15.56%**

**Desglose de Comisiones:**
- BTC: $315.30
- ETH: $260.40
- ADA: $18.17
- SOL: $0
- XRP: $0
- **TOTAL: $593.87**

**Paso 6: Evaluar alertas**

> üí° **Recuerda:** Para BTC en venta, verificar si el precio < $30,000

- Precio: $52,000 (no es menor a $30,000)
- Alertas: Ninguna

**Paso 7: Mostrar recomendaci√≥n de estrategia**

- Per√≠odo: Noche
- Recomendaci√≥n: "üåô Comisi√≥n alta por baja liquidez - Considere operar en la ma√±ana"

**An√°lisis Final:**
- Estado BTC: "Ganancia"
- Rentabilidad BTC: 15.56%
- Per√≠odo del d√≠a: Noche
- Alertas: Ninguna
- Recomendaci√≥n: "üåô Comisi√≥n alta por baja liquidez - Considere operar en la ma√±ana"
- **Dato alarmante:** Si hubieras operado un lunes en la ma√±ana, la comisi√≥n hubiera sido solo $78 (0.5%) en lugar de $202.80 (1.3%). **Perdiste $124.80 extra por operar en mal horario.**
- **An√°lisis de impacto:** Las comisiones totales ($593.87) representan el 22.29% de tus ganancias totales ($2,664)

---

## üíº Situaciones Problema (Para que resuelvas)

### Problema 1: Continuando la Historia - Comprando Solana el Domingo

**Contexto:** Es domingo por la madrugada y ves que Solana est√° a buen precio. A pesar del mal horario, decides comprar.

**Estado actual de tu portafolio (antes de esta operaci√≥n):**
- BTC: 0.2 BTC, invertido $22,500, recuperado $15,600, ganancia $2,100, comisiones $315.30
- ETH: 12 ETH, invertido $37,200, recuperado $0, comisiones $260.40
- ADA: 2000 ADA, invertido $1,310, recuperado $1,350, ganancia $564, comisiones $18.17
- SOL: Sin operaciones
- XRP: Sin operaciones
- Comisiones totales: $593.87
- Ganancia total: $2,664

**Datos de la nueva operaci√≥n:**
- Tipo: Compra
- Cripto: Solana (SOL)
- Cantidad: 20 SOL
- Precio unitario: $155
- D√≠a: Domingo
- Hora: 3

**Tu tarea:** 
1. Determinar en qu√© per√≠odo del d√≠a se est√° operando (Ma√±ana, Tarde o Noche)
2. Calcular la comisi√≥n porcentual total (recuerda sumar comisi√≥n base del d√≠a + ajuste por per√≠odo)
3. Calcular la comisi√≥n en d√≥lares
4. Calcular el costo total de la operaci√≥n
5. Actualizar el estado completo del portafolio de SOL (todas sus variables)
6. Determinar qu√© alertas deben mostrarse (revisa las reglas de alertas para SOL)
7. Calcular el nuevo total de comisiones pagadas en SOL
8. Calcular el nuevo total de comisiones globales
9. Actualizar el resumen general del portafolio (valor total invertido)
10. Mostrar la recomendaci√≥n de estrategia seg√∫n d√≠a y per√≠odo
11. Calcular qu√© porcentaje de tus ganancias totales representan ahora las comisiones totales

---

### Problema 2: Continuando la Historia - Vendiendo Ethereum con Ganancias

**Contexto:** Ethereum subi√≥ a $3,700. Decides vender la mitad de tu posici√≥n en un horario favorable.

**Estado actual de tu portafolio (despu√©s de la operaci√≥n anterior de SOL):**
- BTC: 0.2 BTC, ganancia realizada $2,100, rentabilidad 15.56%, comisiones $315.30
- ETH: 12 ETH (precio promedio $3,100), invertido $37,200, recuperado $0, comisiones $260.40
- ADA: 2000 ADA, ganancia realizada $564, rentabilidad 71.76%, comisiones $18.17
- SOL: 20 SOL (precio promedio $155), invertido $3,100, comisiones $[calculadas en problema 1]
- XRP: Sin operaciones
- Comisiones totales: $[calculadas en problema 1]
- Ganancia total: $2,664

**Datos de la nueva operaci√≥n:**
- Tipo: Venta
- Cripto: Ethereum (ETH)
- Cantidad: 6 ETH
- Precio unitario: $3,700
- D√≠a: Martes
- Hora: 11

**Tu tarea:**
1. Determinar en qu√© per√≠odo del d√≠a se est√° operando
2. Calcular la comisi√≥n porcentual y en d√≥lares de esta operaci√≥n
3. Calcular el ingreso neto despu√©s de comisiones
4. Calcular la ganancia o p√©rdida realizada en ETH (recuerda usar el precio promedio de compra)
5. Calcular la rentabilidad porcentual de ETH
6. Actualizar el estado completo del portafolio de ETH (todas sus variables)
7. Calcular cu√°ntos ETH quedan en el portafolio
8. Calcular el nuevo total de comisiones pagadas en ETH
9. Calcular el nuevo total de comisiones globales
10. Calcular la nueva ganancia total del portafolio (suma de todas las ganancias)
11. Determinar cu√°l es ahora la cripto con mejor rentabilidad
12. Determinar cu√°l es la cripto con peor rentabilidad
13. Mostrar todas las alertas correspondientes (revisa las reglas de ETH)
14. Calcular qu√© porcentaje de tus ganancias totales representan las comisiones
15. Mostrar la recomendaci√≥n de estrategia

---

### Problema 3: An√°lisis Completo Final del Portafolio

**Contexto:** Despu√©s de la operaci√≥n anterior de ETH, decides hacer un an√°lisis completo de tu desempe√±o como trader y agregar una √∫ltima operaci√≥n de Ripple.

**Estado actual de tu portafolio (despu√©s de vender ETH):**
- BTC: 0.2 BTC, ganancia realizada $2,100, rentabilidad 15.56%, comisiones $315.30
- ETH: 6 ETH, ganancia realizada $[calculada en problema 2], rentabilidad $[calculada en problema 2], comisiones $[calculadas en problema 2]
- ADA: 2000 ADA, ganancia realizada $564, rentabilidad 71.76%, comisiones $18.17
- SOL: 20 SOL (sin ventas), invertido $3,100, comisiones $[calculadas en problema 1]
- XRP: Sin operaciones
- Comisiones totales: $[calculadas en problema 2]
- Ganancia total: $[calculada en problema 2]

**Decides hacer una √∫ltima operaci√≥n:**
- Tipo: Compra
- Cripto: Ripple (XRP)
- Cantidad: 4000 XRP
- Precio unitario: $0.48
- D√≠a: Jueves
- Hora: 16

**Tu tarea:**
1. Determinar en qu√© per√≠odo del d√≠a se est√° operando
2. Calcular toda la informaci√≥n de esta compra de XRP
3. Actualizar el estado completo de XRP
4. Determinar qu√© alertas deben mostrarse (revisa las reglas de XRP)
5. Generar un **REPORTE COMPLETO FINAL** que incluya:
   - Estado detallado de TODAS las criptos (cantidad actual, dinero invertido, recuperado, ganancias/p√©rdidas)
   - Rentabilidad de cada cripto que tenga ventas
   - Cripto con mejor rentabilidad
   - Cripto con peor rentabilidad
   - Valor total invertido en todo el portafolio
   - Valor total recuperado
   - Ganancia/p√©rdida total del portafolio
   - Desglose completo de comisiones por cada cripto
   - Total de comisiones pagadas
   - Porcentaje que representan las comisiones sobre las ganancias totales
6. **An√°lisis adicional:** Calcula cu√°nto habr√≠as pagado en comisiones si TODAS tus operaciones hubieran sido en d√≠as laborales por la ma√±ana (0.5% en cada operaci√≥n). ¬øCu√°nto dinero "perdiste" por operar en malos horarios?
7. **Recomendaci√≥n final:** Bas√°ndote en tu an√°lisis de comisiones, ¬øqu√© estrategia de horarios recomendar√≠as para futuras operaciones?

---

## üìù Notas Importantes para tu Implementaci√≥n

### Variables que debes mantener (NO uses arreglos):

**Para cada criptomoneda (BTC, ETH, ADA, SOL, XRP):**
- `[cripto]Compradas` (ejemplo: btcCompradas)
- `[cripto]Vendidas`
- `[cripto]Actuales`
- `[cripto]DineroInvertido`
- `[cripto]DineroRecuperado`
- `[cripto]PrecioPromCompra`
- `[cripto]PrecioPromVenta`
- `[cripto]Ganancia`
- `[cripto]Rentabilidad`
- `[cripto]Comisiones`

**Variables globales:**
- `comisionesTotales`
- `gananciaTotal`
- `valorTotalInvertido`
- `valorTotalRecuperado`

### Estructura de decisiones sugerida:

**Para determinar el per√≠odo del d√≠a:**
```
Si hora >= 6 Y hora <= 11 entonces
    periodo = "Ma√±ana"
Si no, si hora >= 12 Y hora <= 17 entonces
    periodo = "Tarde"
Si no
    periodo = "Noche"
```

**Para calcular comisi√≥n base por d√≠a (usar switch/case):**
```
Seg√∫n dia:
    caso "Lunes", "Martes", "Mi√©rcoles", "Jueves", "Viernes":
        comisionBase = 0.5
    caso "S√°bado":
        comisionBase = 0.8
    caso "Domingo":
        comisionBase = 1.0
```

**Para calcular ajuste por per√≠odo:**
```
Seg√∫n periodo:
    caso "Ma√±ana":
        ajustePeriodo = 0.0
    caso "Tarde":
        ajustePeriodo = 0.2
    caso "Noche":
        ajustePeriodo = 0.5
```

**Para alertas espec√≠ficas por cripto (usar switch/case para cripto, if's para condiciones):**
```
Seg√∫n criptomoneda:
    caso "BTC":
        Si precio > 60000 entonces
            mostrar alerta...
    caso "ETH":
        Si precio > 3500 entonces
            mostrar alerta...
        Si cantidad > 10 entonces
            mostrar alerta...
    ...
```

### Recuerda:
- Cada operaci√≥n afecta SOLO una cripto, las dem√°s mantienen sus valores
- Al comprar m√°s de una cripto que ya tienes, el precio promedio cambia
- Las comisiones NUNCA se suman al dinero invertido/recuperado
- Solo puedes vender si tienes cantidad disponible
- La ganancia se calcula: Dinero recuperado - (Cantidad vendida √ó Precio promedio compra)
- En los problemas, usa los valores calculados en problemas anteriores

**¬°√âxito construyendo tu sistema de trading!** üìàüí∞