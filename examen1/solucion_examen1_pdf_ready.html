<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solución Examen 1: Calculadora de Matrícula Universitaria</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        
        .class-diagram {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-line;
        }
        
        .scenario {
            background-color: #e8f6f3;
            border-left: 4px solid #1abc9c;
            padding: 15px;
            margin: 15px 0;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .code-block code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            color: #212529;
            white-space: pre;
            display: block;
        }
        
        pre.code-block {
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            overflow-x: auto;
        }
        
        .mermaid {
            text-align: center;
            margin: 20px 0;
        }
        
        .explanation {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        .page-break {
            page-break-before: always;
        }
        
        @media print {
            body {
                margin: 0;
                padding: 10px;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <h1>📚 Examen 1: Calculadora de Matrícula Universitaria</h1>

    <h2>📋 Enunciado del Examen</h2>
    
    <h3>Contexto</h3>
    <p>La Universidad Nacional requiere un programa para calcular el valor de la matrícula de sus estudiantes. El sistema debe considerar el número de materias inscritas, el semestre que cursa el estudiante, su estrato socioeconómico y si tiene hermanos estudiando en la misma universidad.</p>

    <h3>Requerimientos Funcionales</h3>
    <p>El programa debe solicitar y procesar la siguiente información:</p>
    
    <table>
        <tr>
            <th>Datos del estudiante</th>
            <th>Reglas de cálculo</th>
        </tr>
        <tr>
            <td>
                <ul>
                    <li>Nombre completo</li>
                    <li>Código estudiantil</li>
                    <li>Semestre actual (1-10)</li>
                    <li>Número de materias a inscribir</li>
                    <li>Estrato socioeconómico (Bajo, Medio, Alto)</li>
                    <li>Cantidad de hermanos en la universidad</li>
                </ul>
            </td>
            <td>
                <ul>
                    <li>Costo por materia en semestres 1-5: $450.000</li>
                    <li>Costo por materia en semestres 6-10: $550.000</li>
                    <li>Ajuste por estrato:
                        <ul>
                            <li>Bajo: -10%</li>
                            <li>Medio: 0%</li>
                            <li>Alto: +10%</li>
                        </ul>
                    </li>
                    <li>Descuento adicional por cada hermano: 5% (máximo 15%)</li>
                </ul>
            </td>
        </tr>
    </table>
    
    <p><strong>Salida esperada:</strong></p>
    <ul>
        <li>Mostrar el costo base total</li>
        <li>Mostrar ajustes aplicados</li>
        <li>Mostrar el valor final a pagar</li>
    </ul>

    <h3>Escenario de Ejemplo</h3>
    <table>
        <tr>
            <th>Entrada</th>
            <th>Salida</th>
        </tr>
        <tr>
            <td>
                Nombre: Juan Pérez<br>
                Código: 20241234<br>
                Semestre: 3<br>
                Materias: 5<br>
                Estrato: Bajo<br>
                Hermanos: 2
            </td>
            <td>
                === LIQUIDACIÓN DE MATRÍCULA ===<br>
                Estudiante: Juan Pérez<br>
                Código: 20241234<br>
                Costo base (5 materias x $450.000): $2.250.000<br>
                Descuento estrato bajo (10%): -$225.000<br>
                Descuento por hermanos (10%): -$225.000<br>
                TOTAL A PAGAR: $1.800.000
            </td>
        </tr>
    </table>

    <h3>Entregables</h3>
    <ol>
        <li><strong>Diagrama de clase</strong> de CalculadoraMatricula con sus atributos y métodos</li>
        <li><strong>Diagrama de flujo</strong> del método principal de cálculo</li>
        <li><strong>Implementación en Java</strong> de toda la clase</li>
    </ol>

    <div class="page-break"></div>
    
    <h1>📝 Solución del Examen</h1>

    <h2>1. Diagrama de Clase</h2>
    <div class="class-diagram">
┌─────────────────────────────────────┐
│       CalculadoraMatricula          │
├─────────────────────────────────────┤
│ - nombre: String                    │
│ - codigo: String                    │
│ - semestre: int                     │
│ - numeroMaterias: int               │
│ - estrato: String                   │
│ - hermanos: int                     │
├─────────────────────────────────────┤
│ + CalculadoraMatricula()            │
│ + calcularCostoBase(): double       │
│ + calcularDescuentoEstrato(): double│
│ + calcularDescuentoHermanos(): double│
│ + calcularMatricula(): double       │
└─────────────────────────────────────┘
    </div>

    <div class="page-break"></div>

    <h2>2. Diagramas de Flujo por Método</h2>

    <h3>Método: calcularCostoBase()</h3>
    <div class="mermaid">
        flowchart TD
            A[INICIO calcularCostoBase] --> B{semestre >= 1 AND semestre <= 5?}
            B -->|Sí| C[costoPorMateria = 450000]
            B -->|No| D[costoPorMateria = 550000]
            C --> E[resultado = numeroMaterias * costoPorMateria]
            D --> E
            E --> F[RETORNAR resultado]
    </div>

    <h3>Método: calcularDescuentoEstrato()</h3>
    <div class="mermaid">
        flowchart TD
            A[INICIO calcularDescuentoEstrato] --> B[costoBase = calcularCostoBase]
            B --> C{estrato es Bajo?}
            C -->|Sí| D[porcentaje = 0.10]
            C -->|No| E{estrato es Medio?}
            E -->|Sí| F[porcentaje = 0]
            E -->|No| G{estrato es Alto?}
            G -->|Sí| H[porcentaje = -0.10]
            G -->|No| F
            D --> I[resultado = costoBase * porcentaje]
            F --> I
            H --> I
            I --> J[RETORNAR resultado]
    </div>

    <h3>Método: calcularDescuentoHermanos()</h3>
    <div class="mermaid">
        flowchart TD
            A[INICIO calcularDescuentoHermanos] --> B[costoBase = calcularCostoBase]
            B --> C[porcentaje = hermanos * 0.05]
            C --> D{porcentaje > 0.15?}
            D -->|Sí| E[porcentaje = 0.15]
            D -->|No| F[mantener porcentaje]
            E --> G[resultado = costoBase * porcentaje]
            F --> G
            G --> H[RETORNAR resultado]
    </div>

    <h3>Método: calcularMatricula()</h3>
    <div class="mermaid">
        flowchart TD
            A[INICIO calcularMatricula] --> B[costoBase = calcularCostoBase]
            B --> C[descuentoEstrato = calcularDescuentoEstrato]
            C --> D[descuentoHermanos = calcularDescuentoHermanos]
            D --> E[totalPagar = costoBase - descuentoEstrato - descuentoHermanos]
            E --> F[RETORNAR totalPagar]
    </div>

    <div class="page-break"></div>

    <h2>3. Implementación en Java</h2>
    <pre class="code-block"><code>import java.util.Scanner;
import java.text.DecimalFormat;

public class CalculadoraMatricula {
    // Atributos - Solo datos de entrada
    private String nombre;
    private String codigo;
    private int semestre;
    private int numeroMaterias;
    private String estrato;
    private int hermanos;
    
    // Constructor
    public CalculadoraMatricula() {
        // Constructor vacío
    }
    
    // Método para calcular costo base
    public double calcularCostoBase() {
        double costoPorMateria;
        
        if (semestre >= 1 && semestre <= 5) {
            costoPorMateria = 450000;
        } else {
            costoPorMateria = 550000;
        }
        
        return numeroMaterias * costoPorMateria;
    }
    
    // Método para calcular descuento por estrato
    public double calcularDescuentoEstrato() {
        double costoBase = calcularCostoBase();
        double porcentaje = 0;
        
        if (estrato.equalsIgnoreCase("Bajo")) {
            porcentaje = 0.10; // 10% descuento
        } else if (estrato.equalsIgnoreCase("Medio")) {
            porcentaje = 0; // Sin cambio
        } else if (estrato.equalsIgnoreCase("Alto")) {
            porcentaje = -0.10; // 10% sobrecosto (descuento negativo)
        }
        
        return costoBase * porcentaje;
    }
    
    // Método para calcular descuento por hermanos
    public double calcularDescuentoHermanos() {
        double costoBase = calcularCostoBase();
        double porcentaje = hermanos * 0.05; // 5% por cada hermano
        
        // Máximo 15% de descuento
        if (porcentaje > 0.15) {
            porcentaje = 0.15;
        }
        
        return costoBase * porcentaje;
    }
    
    // Método principal de cálculo que retorna el total a pagar
    public double calcularMatricula() {
        double costoBase = calcularCostoBase();
        double descuentoEstrato = calcularDescuentoEstrato();
        double descuentoHermanos = calcularDescuentoHermanos();
        
        return costoBase - descuentoEstrato - descuentoHermanos;
    }
}</code></pre>

    <div class="page-break"></div>

    <h2>4. Prueba con el Escenario de Ejemplo</h2>

    <div class="scenario">
        <h3>Entrada:</h3>
        <ul>
            <li>Nombre: Juan Pérez</li>
            <li>Código: 20241234</li>
            <li>Semestre: 3</li>
            <li>Materias: 5</li>
            <li>Estrato: Bajo</li>
            <li>Hermanos: 2</li>
        </ul>

        <h3>Cálculos paso a paso:</h3>
        <table>
            <tr>
                <th>Paso</th>
                <th>Operación</th>
                <th>Resultado</th>
            </tr>
            <tr>
                <td>1</td>
                <td>Costo base (5 materias × $450.000)</td>
                <td>$2.250.000</td>
            </tr>
            <tr>
                <td>2</td>
                <td>Descuento estrato bajo (10%)</td>
                <td>-$225.000</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Descuento por hermanos (2 × 5% = 10%)</td>
                <td>-$225.000</td>
            </tr>
            <tr>
                <td>4</td>
                <td>Total a pagar</td>
                <td><strong>$1.800.000</strong></td>
            </tr>
        </table>

        <h3>Salida Esperada:</h3>
        <pre class="code-block"><code>=== LIQUIDACIÓN DE MATRÍCULA ===
Estudiante: Juan Pérez
Código: 20241234

Costo base (5 materias x $450.000): $2.250.000
Descuento estrato bajo (10%): -$225.000
Descuento por hermanos (10%): -$225.000

TOTAL A PAGAR: $1.800.000</code></pre>
    </div>

    <h2>5. Explicación del Código</h2>
    
    <div class="explanation">
        <h3>Estructura de la Clase:</h3>
        <ol>
            <li><strong>Atributos privados</strong>: Solo almacenan los datos de entrada (nombre, código, semestre, etc.)</li>
            <li><strong>Constructor</strong>: Constructor vacío simple</li>
            <li><strong>calcularCostoBase()</strong>: Método que calcula y retorna el costo base</li>
            <li><strong>calcularDescuentoEstrato()</strong>: Método que calcula y retorna el descuento por estrato</li>
            <li><strong>calcularDescuentoHermanos()</strong>: Método que calcula y retorna el descuento por hermanos</li>
            <li><strong>calcularMatricula()</strong>: Método principal que calcula y retorna el total a pagar</li>
        </ol>

        <h3>Puntos Clave:</h3>
        <ul>
            <li>Los valores calculados (costoBase, descuentoEstrato, descuentoHermanos, totalPagar) <strong>NO son atributos</strong></li>
            <li>Cada valor se calcula mediante un método cuando se necesita</li>
            <li>Los métodos de cálculo pueden llamarse múltiples veces según sea necesario</li>
            <li>Solo se almacenan como atributos los datos ingresados por el usuario</li>
        </ul>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });
    </script>
</body>
</html>